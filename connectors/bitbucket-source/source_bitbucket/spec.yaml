documentationUrl: https://docs.airbyte.com/integrations/sources/bitbucket
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Bitbucket Source Spec
  type: object
  required:
    - workspace
    - email
    - api_token
  additionalProperties: true
  properties:
    workspace:
      type: string
      title: Workspace
      description: The Bitbucket workspace name (e.g., your-workspace). This is the workspace slug found in your Bitbucket URLs.
      examples:
        - my-workspace
        - acme-corp
      order: 0
    email:
      type: string
      title: Email
      description: Your Atlassian account email address used for Bitbucket login. This is used for Basic Authentication.
      format: email
      examples:
        - user@example.com
      airbyte_secret: true
      order: 1
    api_token:
      type: string
      title: API Token
      description: Bitbucket API token (App Password). Create one at bitbucket.org/account/settings/app-passwords/ with the required permissions (repositories:read, pullrequests:read, workspace:read).
      airbyte_secret: true
      order: 2
    repositories:
      type: array
      items:
        type: string
      title: Repositories
      description: "Optional: List of specific repositories to sync (format: workspace/repo-name). If empty, syncs all repositories in the workspace."
      examples:
        - my-workspace/my-repo
        - my-workspace/another-repo
      order: 3
    page_size:
      type: integer
      title: Page Size
      description: Number of items to fetch per page from the Bitbucket API. Maximum is 100.
      default: 100
      minimum: 1
      maximum: 100
      order: 4
    start_date:
      type: string
      format: date-time
      title: Start Date
      description: Start date for incremental syncs of pull requests, commits, and deployments (ISO 8601 format, e.g., 2021-01-01T00:00:00Z). Only records updated after this date will be synced.
      default: "2020-01-01T00:00:00Z"
      examples:
        - "2021-01-01T00:00:00Z"
        - "2023-06-15T00:00:00Z"
      order: 5
